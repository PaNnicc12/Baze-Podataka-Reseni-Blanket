--Tabele i insert into sam pravio rucno pa mozda ima gresaka, ali je dovoljno dobro da se testiraju resenja
CREATE TABLE ZAPOSLENI
(
    ID NUMBER(10) NOT NULL CONSTRAINT ZAPOSLENI_PK PRIMARY KEY,
    IME VARCHAR(30),
    PREZIME VARCHAR(30),
    BRTEL VARCHAR(15),
    DAT_POSTAVLJENJA DATE NOT NULL,
    PLATA NUMBER(7),
    ID_R_MESTO NUMBER(10) NOT NULL CONSTRAINT IDRMESTO_FK REFERENCES RADNO_MESTO(ID),
    ID_ODELJENJE NUMBER(10) NOT NULL CONSTRAINT ODELJENJE_FK REFERENCES ODELJENJE(ID)
);

INSERT INTO ZAPOSLENI VALUES
(1, 'Marko', 'Markovic', '064111111', DATE '2023-01-10', 68000, 2, 1);
INSERT INTO ZAPOSLENI VALUES
(2, 'Jelena', 'Jovanovic', '064222222', DATE '2022-06-15', 72000, 1, 1);
INSERT INTO ZAPOSLENI VALUES
(3, 'Ivan', 'Ivic', '064333333', DATE '2021-03-01', 58000, 4, 2);
INSERT INTO ZAPOSLENI VALUES
(4, 'Ana', 'Petrovic', '064444444', DATE '2020-09-20', 80000, 3, 3);
INSERT INTO ZAPOSLENI VALUES
(5, 'Nikola', 'Radovic', '064555111',
 DATE '2023-01-01', 60000, 1, 1);
INSERT INTO ZAPOSLENI VALUES
(6, 'Milica', 'Stojanovic', '064555222',
 DATE '2023-02-01', 62000, 1, 1);
INSERT INTO ZAPOSLENI VALUES
(7, 'Vladimir', 'Kovacevic', '064555333',
 DATE '2023-03-01', 80000, 2, 2);



CREATE TABLE ODELJENJE
(
    ID NUMBER(10) NOT NULL CONSTRAINT ODELJENJE_PK PRIMARY KEY,
    NAZIV VARCHAR(30),
    LOKACIJA VARCHAR(30) CONSTRAINT LOKACIJA_CK CHECK(LOKACIJA IN('Nis', 'Stokholm'))
);

INSERT INTO ODELJENJE VALUES (1, 'IT', 'Nis');
INSERT INTO ODELJENJE VALUES (2, 'HR', 'Nis');
INSERT INTO ODELJENJE VALUES (3, 'Finance', 'Stokholm');

CREATE TABLE RADNO_MESTO
(
    ID NUMBER(10) NOT NULL CONSTRAINT RADNOMESTO_PK PRIMARY KEY,
    NAZIV VARCHAR(30),
    MIN_PLATA NUMBER(7) NOT NULL,
    MAX_PLATA NUMBER(7) NOT NULL,
    CONSTRAINT PLATA_RM_CK CHECK (MIN_PLATA <= MAX_PLATA)
);

INSERT INTO RADNO_MESTO VALUES (1, 'Programer', 60000, 90000);
INSERT INTO RADNO_MESTO VALUES (2, 'Tester', 50000, 65000);
INSERT INTO RADNO_MESTO VALUES (3, 'Analiticar', 55000, 75000);
INSERT INTO RADNO_MESTO VALUES (4, 'Asistent', 45000, 60000);
INSERT INTO RADNO_MESTO VALUES (5, 'Arhivar', 45000, 60000);

CREATE TABLE ISTORIJA_RADNIH_MESTA
(
    ID_ZAP NUMBER(10) NOT NULL CONSTRAINT ISTRMZAP_FK REFERENCES ZAPOSLENI(ID),
    ID_R_MESTO NUMBER(10) NOT NULL CONSTRAINT ISTRMRM_FK REFERENCES RADNO_MESTO(ID),
    ID_ODELJ NUMBER(10) NOT NULL CONSTRAINT ISTRMODELJ_FK REFERENCES ODELJENJE(ID),
    DATUM_POC DATE NOT NULL,
    DATUM_KRAJA DATE,
    CONSTRAINT ISTRM_PK PRIMARY KEY(ID_ZAP, ID_R_MESTO, ID_ODELJ, DATUM_POC)
);

INSERT INTO ISTORIJA_RADNIH_MESTA VALUES
(1, 4, 2, DATE '2021-01-01', DATE '2022-01-01');
INSERT INTO ISTORIJA_RADNIH_MESTA VALUES
(1, 2, 1, DATE '2022-01-02', DATE '2023-01-09');
INSERT INTO ISTORIJA_RADNIH_MESTA VALUES
(2, 2, 1, DATE '2020-01-01', DATE '2021-06-01');
INSERT INTO ISTORIJA_RADNIH_MESTA VALUES
(3, 4, 2, DATE '2019-02-01', DATE '2020-12-31');
INSERT INTO ISTORIJA_RADNIH_MESTA VALUES
(4, 1, 3, DATE '2018-05-01', DATE '2020-09-19');